# GHA CI
Intel Extension for Transformers use Github Action (GHA) for CI test, if you are new to GHA, please refer to [GHA](https://docs.github.com/en/actions)

## Test Scope
|  TestName        |                                                                                                                                                                                                                                                 Test Cover Path                                                                                                                                                                                                                                                 |
|-----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|       Format Scan       |                                                                                                                                                                                     intel_extension_for_transformers/**   workflows/**   setup.py   .github/workflows/format_scan.yml   .github/workflows/script/formatScan/**                                                                                                                                                                                      |
|       Spell Check       |                                                                                                                                                                                                                                                 ALL                                                                                                                                                                                                                                                  |
|     Copyright Check     |                                                                                                                                                                                                           intel_extension_for_transformers/**  setup.py  .github/workflows/format_scan.yml                                                                                                                                                                                                           |
|           DCO           |                                                                                                                                                                                                                                     ALL (use commit -s -m"...")                                                                                                                                                                                                                                      |
| UT + Coverage (Optimize) |                                                                                                                            intel_extension_for_transformers/transformers/**  intel_extension_for_transformers/utils/**  intel_extension_for_transformers/transformers/llm/evaluation/**  intel_extension_for_transformers/transformers/llm/quantization/**  tests/**  .github/workflows/unit-test-optimize.yml  .github/workflows/script/unitTest/**                                                                                                                             |
|  UT + Coverage (Backend)   |                            ".github/workflows/unit-test-engine.yml"      .github/workflows/script/unitTest/**  intel_extension_for_transformers/transformers/llm/runtime/deprecated/**  !intel_extension_for_transformers/transformers/llm/runtime/deprecated/kernels/**   !intel_extension_for_transformers/transformers/llm/runtime/neural_speed/**  !intel_extension_for_transformers/transformers/llm/runtime/deprecated/third_party/**  !intel_extension_for_transformers/transformers/llm/runtime/deprecated/docs/**                            |
|     UT + Coverage (NeuralChat)      |                                                                                                                           intel_extension_for_transformers/neural_chat/tests/**  .github/workflows/unit-test-neuralchat.yml                                                                                                                           |
|        Kernel gtest        |                                                          intel_extension_for_transformers/transformers/llm/library/kernels/**   .github/workflows/unit-test-kernel.yml   .github/workflows/script/unitTest/**  !intel_extension_for_transformers/transformers/llm/library/kernels/docs/**   !intel_extension_for_transformers/transformers/llm/runtime/neural_speed/**  !intel_extension_for_transformers/transformers/llm/library/kernels/README.md                                                          |
|    Kernel Benchmark     |                                                  intel_extension_for_transformers/transformers/llm/library/kernels/**  intel_extension_for_transformers/transformers/llm/runtime/deprecated/test/kernels/benchmark/**  .github/workflows/sparse_lib_CI.yml'  '.github/workflows/script/SparseLibCI  !intel_extension_for_transformers/transformers/llm/library/kernels/docs/**  !intel_extension_for_transformers/transformers/llm/library/kernels/README.md                                                   |
|   BERT Model Test (Pytorch/Tensorflow)  |                                                                                                                         intel_extension_for_transformers/transformers/**  intel_extension_for_transformers/transformers/llm/evaluation/**   intel_extension_for_transformers/utils/**  intel_extension_for_transformers/transformers/**  .github/workflows/optimize-test.yml  .github/workflows/script/models/run_optimize.sh                                                                                                                          |
|   BERT Model Test (LLM Runtime)   | .github/workflows/deploy-test.yml  .github/workflows/script/models/run_deploy.sh  intel_extension_for_transformers/transformers/llm/runtime/deprecated/**  !intel_extension_for_transformers/transformers/llm/runtime/deprecated/kernels/**  !intel_extension_for_transformers/transformers/llm/runtime/deprecated/test/**  !intel_extension_for_transformers/transformers/llm/runtime/neural_speed/**  !intel_extension_for_transformers/transformers/llm/runtime/deprecated/third_party/**  !intel_extension_for_transformers/transformers/llm/runtime/deprecated/docs/**  |
|        LLM Model Test  (LLM Runtime)        |     .github/workflows/llm-test.yml  .github/workflows/script/models/run_llm.sh  intel_extension_for_transformers/transformers/llm/runtime/deprecated/**  !intel_extension_for_transformers/transformers/llm/runtime/deprecated/kernels/**  !intel_extension_for_transformers/transformers/llm/runtime/deprecated/graph/**  !intel_extension_for_transformers/transformers/llm/runtime/deprecated/test/** !intel_extension_for_transformers/transformers/llm/runtime/deprecated/third_party/**  !intel_extension_for_transformers/transformers/llm/runtime/deprecated/docs/**     |
|     LLM Runtime CPP Graph Test      |                                                                                                                           .github/workflows/cpp-graph-test.yml  .github/workflows/script/models/cpp_graph_inference.sh  intel_extension_for_transformers/transformers/llm/runtime/neural_speed/**  !intel_extension_for_transformers/transformers/llm/runtime/neural_speed/README.md                                                                                                                            |
|     NeuralChat Workflow Test      |                                                                                                                           .github/workflows/script/chatbot/**  .github/workflows/sample_data/**  intel_extension_for_transformers/**  workflows/chatbot/inference/**  .github/workflows/chatbot-test.yml                                                                                                                           |

## Test Scripts

If you want to run tests locally, please refer to test yml and corresponding scripts.


| Test Name | Test Yml | Scripts Location|
|----------|-------------|-------------|
| Format Scan | [format_scan.yml](./format_scan.yml) | [bandit/cpplint/pylint/cloc/clandformat](./script/formatScan/) |
| SpellCheck | [py-spelling.yml](./py-spelling.yml) | [spell check](./script/formatScan/pyspelling.sh) |
| Unit Test | [unit-test-optimize.yml](./unit-test-optimize.yml)  [unit-test-engine.yml](./unit-test-engine.yml)  [unit-test-kernel.yml](./unit-test-kernel.yml)  [unit-test-neuralchat](./unit-test-neuralchat.yml) | [unit-test](./script/unitTest/) |
| Model Test | [optimize-test](./optimize-test.yml)  [deploy-test](./deploy-test.yml)  [llm-test.yml](./llm-test.yml)  [cpp-graph-test.yml](./cpp-graph-test.yml) | [model-test](./script/models/) |
| Kernel Benchmark | [sparse_lib_CI.yml](./sparse_lib_CI.yml) | [kernel-benchmark](./script/SparseLibCI/) |
| NeuralChat Workflows | [chatbot-test.yml](./chatbot-test.yml) | [chatbot](./script/chatbot/) |
|Copyright Check | [copyright_check.yml](./copyright_check.yml) | N/A |
